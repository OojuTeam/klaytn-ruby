RSpec.shared_examples 'contract_stubs', contract_stubs: true do

  let(:invalid_client) {
    Klaytn::Contract.new(kas_access_key: ENV['KAS_ACCESS_KEY'], kas_secret_access_key: ENV['KAS_SECRET_ACCESS_KEY'])
  }

  let(:client) {
    Klaytn::Contract.new(kas_account_wallet_address: ENV['KAS_ACCOUNT_WALLET_ADDRESS'], kas_account_pool_krn: ENV['KAS_ACCOUNT_POOL_KRN'], kas_access_key: ENV['KAS_ACCESS_KEY'], kas_secret_access_key: ENV['KAS_SECRET_ACCESS_KEY'])
  }

  let(:bytecode) {
    "0x60c0604052601060808190526f48656c6c6f2066726f6d204f6f6a752160801b60a09081526100319160009190610044565b5034801561003e57600080fd5b50610118565b828054610050906100dd565b90600052602060002090601f01602090048101928261007257600085556100b8565b82601f1061008b57805160ff19168380011785556100b8565b828001600101855582156100b8579182015b828111156100b857825182559160200191906001019061009d565b506100c49291506100c8565b5090565b5b808211156100c457600081556001016100c9565b6002810460018216806100f157607f821691505b6020821081141561011257634e487b7160e01b600052602260045260246000fd5b50919050565b6101a4806101276000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063cfae321714610030575b600080fd5b61003861004e565b60405161004591906100e0565b60405180910390f35b60606000805461005d90610133565b80601f016020809104026020016040519081016040528092919081815260200182805461008990610133565b80156100d65780601f106100ab576101008083540402835291602001916100d6565b820191906000526020600020905b8154815290600101906020018083116100b957829003601f168201915b5050505050905090565b6000602080835283518082850152825b8181101561010c578581018301518582016040015282016100f0565b8181111561011d5783604083870101525b50601f01601f1916929092016040019392505050565b60028104600182168061014757607f821691505b6020821081141561016857634e487b7160e01b600052602260045260246000fd5b5091905056fea2646970667358221220b3ccc0b3ec6b6ecfd52f20b6bb32dc79266be9277ca7f8db23f3991f8d5dd19864736f6c63430008020033"
  }

  # sample contract used to create test case 'bytecode' (compiled via hardhat)
  # // SPDX-License-Identifier: MIT
  # pragma solidity ^0.8.2;
  #
  # contract KlaytnGreeter {
  #     /* Define variable greeting of the type string */
  #     string greeting = "Hello from Ooju!";
  #
  #     /* Main function */
  #     function greet() public view returns (string memory) {
  #         return greeting;
  #     }
  # }

  let(:deployed_contract_response) {
    {"from"=>"0x336b6552b5d5df0bbfb94b4cd1e47c5c132d0d2b", "gas"=>9000000, "gasPrice"=>"0x5d21dba00", "input"=>bytecode, "nonce"=>1225, "rlp"=>"0x28f9033d8204c98505d21dba0083895440808094336b6552b5d5df0bbfb94b4cd1e47c5c132d0d2bb902cb60c0604052601060808190526f48656c6c6f2066726f6d204f6f6a752160801b60a09081526100319160009190610044565b5034801561003e57600080fd5b50610118565b828054610050906100dd565b90600052602060002090601f01602090048101928261007257600085556100b8565b82601f1061008b57805160ff19168380011785556100b8565b828001600101855582156100b8579182015b828111156100b857825182559160200191906001019061009d565b506100c49291506100c8565b5090565b5b808211156100c457600081556001016100c9565b6002810460018216806100f157607f821691505b6020821081141561011257634e487b7160e01b600052602260045260246000fd5b50919050565b6101a4806101276000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063cfae321714610030575b600080fd5b61003861004e565b60405161004591906100e0565b60405180910390f35b60606000805461005d90610133565b80601f016020809104026020016040519081016040528092919081815260200182805461008990610133565b80156100d65780601f106100ab576101008083540402835291602001916100d6565b820191906000526020600020905b8154815290600101906020018083116100b957829003601f168201915b5050505050905090565b6000602080835283518082850152825b8181101561010c578581018301518582016040015282016100f0565b8181111561011d5783604083870101525b50601f01601f1916929092016040019392505050565b60028104600182168061014757607f821691505b6020821081141561016857634e487b7160e01b600052602260045260246000fd5b5091905056fea2646970667358221220b3ccc0b3ec6b6ecfd52f20b6bb32dc79266be9277ca7f8db23f3991f8d5dd19864736f6c634300080200338080f847f845824056a088064e9b15d7d2a6d90b4605530fd339f9a972e9dc4d8bca6aa1b240efbb339fa077c9970f6707b8b46924e56904d3b0aa68e4050039688639f6da581f380e3c68", "signatures"=>[{"R"=>"0x88064e9b15d7d2a6d90b4605530fd339f9a972e9dc4d8bca6aa1b240efbb339f", "S"=>"0x77c9970f6707b8b46924e56904d3b0aa68e4050039688639f6da581f380e3c68", "V"=>"0x4056"}], "status"=>"Submitted", "transactionHash"=>"0xae416e48d3f7ba10f21bfe18122bdb037f7270d1439f52da350738054e4d79af", "typeInt"=>40, "value"=>"0x0"}
  }
end
